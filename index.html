<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">

        <!-- JQUERY -->
        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

        <!-- bootstrap -->
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <!--  Estilos para video  -->
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/bigvideo.css">
        <link href="css/estilo.css" rel="stylesheet" />
        <!--  librerias para video  -->
        <script src="js/modernizr-2.5.3.min.js"></script>
        <script src="js/index.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/jquery-1.8.1.min.js"><\/script>')</script>
        <script src="js/jquery-ui-1.8.22.custom.min.js"></script>
        <script src="js/jquery.imagesloaded.min.js"></script>
        <script src="http://vjs.zencdn.net/c/video.js"></script>
        <script src="js/bigvideo.js"></script>
        <script src="js/jquery.transit.min.js"></script>
        <script>
            $(function() {

                // Use Modernizr to detect for touch devices, 
                // which don't support autoplay and may have less bandwidth, 
                // so just give them the poster images instead
                var screenIndex = 1,
                        numScreens = $('.screen').length,
                        isTransitioning = false,
                        transitionDur = 1000,
                        BV,
                        videoPlayer,
                        isTouch = Modernizr.touch,
                        $bigImage = $('.big-image'),
                        $window = $(window);

                if (!isTouch) {
                    // initialize BigVideo
                    BV = new $.BigVideo({forceAutoplay: isTouch});
                    BV.init();
                    showVideo();

                    BV.getPlayer().addEvent('loadeddata', function() {
                        onVideoLoaded();
                    });

                    // adjust image positioning so it lines up with video
                    $bigImage
                            .css('position', 'relative')
                            .imagesLoaded(adjustImagePositioning);
                    // and on window resize
                    $window.on('resize', adjustImagePositioning);
                }

                // Next button click goes to next div
                $('#next-btn').on('click', function(e) {
                    e.preventDefault();
                    if (!isTransitioning) {
                        next();
                    }
                });

                function showVideo() {
                    BV.show($('#screen-' + screenIndex).attr('data-video'), {ambient: true});
                }

                function next() {
                    isTransitioning = true;

                    // update video index, reset image opacity if starting over
                    if (screenIndex === numScreens) {
                        $bigImage.css('opacity', 1);
                        screenIndex = 1;
                    } else {
                        screenIndex++;
                    }

                    if (!isTouch) {
                        $('#big-video-wrap').transit({'left': '-100%'}, transitionDur)
                    }

                    (Modernizr.csstransitions) ?
                            $('.wrapper').transit(
                            {'left': '-' + (100 * (screenIndex - 1)) + '%'},
                    transitionDur,
                            onTransitionComplete) :
                            onTransitionComplete();
                }

                function onVideoLoaded() {
                    $('#screen-' + screenIndex).find('.big-image').transit({'opacity': 0}, 500)
                }

                function onTransitionComplete() {
                    isTransitioning = false;
                    if (!isTouch) {
                        $('#big-video-wrap').css('left', 0);
                        showVideo();
                    }
                }

                function adjustImagePositioning() {
                    $bigImage.each(function() {
                        var $img = $(this),
                                img = new Image();

                        img.src = $img.attr('src');

                        var windowWidth = $window.width(),
                                windowHeight = $window.height(),
                                r_w = windowHeight / windowWidth,
                                i_w = img.width,
                                i_h = img.height,
                                r_i = i_h / i_w,
                                new_w, new_h, new_left, new_top;

                        if (r_w > r_i) {
                            new_h = windowHeight;
                            new_w = windowHeight / r_i;
                        }
                        else {
                            new_h = windowWidth * r_i;
                            new_w = windowWidth;
                        }

                        $img.css({
                            width: new_w,
                            height: new_h,
                            left: (windowWidth - new_w) / 2,
                            top: (windowHeight - new_h) / 2
                        })

                    });

                }
            });
        </script>
    </head>
    <body>
        <div class="container">
            <header>
                <div class="espacio1"></div>
                <div class="row">

                    <!--Logo-->
                    <div class="col-lg-2 col-md-4 col-xs-12">
                        <a class="img-logo" href="#">Logo</a>
                    </div>
                    <!--Menu navegacion-->
                    <div class="col-lg-7 col-md-4 col-xs-12">
                        <ul class="list-inline">
                            <li><!--Primer Link-->
                                <a id="uno" href="#">Primer Link <b class="caret"></b></a>
                            </li>
                            <li><!--Segundo Link-->
                                <a id="dos" href="#">Segundo Link <b class="caret"></b></a>
                            </li>
                            <li><!--Tercer Link-->
                                <a id="tres" href="#">Tercer Link <b class="caret"></b></a>
                            </li>
                            <li><!--Cuarto Link-->
                                <a id="cuatro" href="#">Cuarto Link <b class="caret"></b></a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-3 col-md-4 col-xs-12"><!--Botones Entrar/Registro-->
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-xs-6 text-right">
                                <button type="button" class="btn btn-default btn-sm">Entrar</button>
                            </div>
                            <div class="col-lg-6 col-md-6 col-xs-6">
                                <button type="button" class="btn btn-default btn-sm">Crear Cuenta</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="espacio1"></div>
            </header>     
        </div>
        <div class="row">
            <div id="menu" class="col-xs-12 col-md-12 col-lg-12 menuDespliega">
                <div id="rowMenu" class="row">    
                </div>
            </div>
        </div>
        <div id="cajaVideo" class="wrapper">
            <div class="screen" id="screen-1" data-video="vid/videoPrueba.mp4">
            </div>
        </div>
    </body>
</html>